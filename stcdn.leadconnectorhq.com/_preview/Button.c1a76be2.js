import{d as wt,r as y,c as Ie,o as kt,a as E,b as O,f as b,n as ze,e as D,i as x,t as j,m as ce,l as be,w as Tt,v as Ot,Q as xt,h as Ct,F as Rt,q as ke,s as Te,B as ne,x as Lt,j as Nt}from"./entry.0e8f1b40.js";import{u as Mt,b as At,m as Se,c as Ut,ak as de,a8 as Q,f as Ke,h as Ze,w as je,al as Dt,P as fe,N as ye,G as _e,am as Qe,O as $t}from"./constants.c1fa6fa6.js";import{S as P,E as me,b as Bt}from"./index.b3663b14.js";import{t as Ft,f as Vt}from"./funnel_event_helper.495be8ad.js";import{F as Ye}from"./FunnelServices.e4841ee2.js";import{h as Ht,f as Ee,g as qt,a as Jt,c as Wt,b as Gt}from"./orderform_helpers.d23d7511.js";import{p as zt}from"./pure.9cabf600.js";import{u as Kt}from"./useRedirectAction.c1fc0127.js";import{p as Zt}from"./payment-warning.ad4ee024.js";import{P as A,C as Xe,s as we,S as jt,b as et,c as tt,N as at,A as rt}from"./HLConst.96411594.js";import{_ as Qt}from"./MoonLoader.vue.bd0211ae.js";import"./HLImage.vue.55c0a178.js";import"./client-only.ec7d1c36.js";import"./components.e5153daf.js";import"./HtmlPreview.vue.ccc4e81b.js";import"./utils.06d161ac.js";import"./index.35670e06.js";import"./am_helper.703cc0d7.js";import"./currency_helper.ed08bd45.js";const Yt=ke(()=>Te(()=>import("./Recaptcha.ae7a30a1.js"),[],import.meta.url).then(v=>v.default||v)),Xt=ke(()=>Te(()=>import("./PaymentElementComponent.7e3bdc3b.js"),["./ghl-payment-element.045b884e.css","./PaymentElementComponent.3a186e73.css"],import.meta.url).then(v=>v.default||v)),ea=ke(()=>Te(()=>import("./PaymentElementModal.0301f79e.js"),["./ghl-payment-element.045b884e.css","./PaymentElementModal.6888a8c8.css"],import.meta.url).then(v=>v.default||v)),ta=["id","href","target","data-animation-class","aria-label"],aa={key:0,style:{"margin-right":"5px"},class:"button-icon-start"},ra={class:"main-heading-button"},na={key:1,style:{"margin-left":"5px"},class:"button-icon-end"},sa={class:"sub-heading-button"},oa={key:1,class:"recaptcha-container button-recaptcha-container"},la={key:0},ia=["disabled","data-animation-class","id","aria-label"],ua={key:0,class:"button-icon-start"},ca={class:"main-heading-button"},da={key:1,class:"button-icon-end"},ma={class:"sub-heading-button"},va={class:"btn-loader-position",style:{left:"50%",position:"absolute",top:"50%",transform:"translate(-50%, -50%)"}},pa={key:0},fa=["id"],ya={key:0,class:"card-el-error-msg"},_a=["src"],ha={key:3,class:"card-el-error-msg error-message",style:{"justify-content":"center"}},ga={inheritAttrs:!1},Ba=wt({...ga,__name:"Button",props:{element:{type:Object,required:!0},classStyles:{type:Array,required:!0}},setup(v){var Fe,Ve,He,qe,Je,We,Ge;const d=v,a=Mt(),{openPopup:nt}=Bt(),Oe=At(d.element),{call:st,createMembershipToken:xe,mailTo:ot,sms:lt,goToNextFunnelStep:se,openUrl:he,getNextFunnelStepURL:it,goToStep:ut}=Kt(),ct=Nt(),{$bus:Ce}=ct;let Y=(Ve=(Fe=d.element.extra)==null?void 0:Fe.text)==null?void 0:Ve.value;Y=Se(Y);let X=(qe=(He=d.element.extra)==null?void 0:He.subText)==null?void 0:qe.value;X=Se(X);const dt=a.value.funnelId,mt=a.value.stepId,vt=a.value.funnelPageId,g=a.value.locationId,F=(Ge=(We=(Je=d.element.extra)==null?void 0:Je.productId)==null?void 0:We.value)==null?void 0:Ge.id,_=y(!1),ve=y(!1),ge=y(""),Re=y(""),S=y(),Le=y(!1),Pe=y(""),ee=y(""),L=y(!1),pt=Ie(()=>{var e;return((e=S.value)==null?void 0:e.price.type)==="recurring"}),m=y(),C=y(""),oe=y(!1),V=y(),le=y(""),Ne=y(!1),$=y(!0),W=y(),Me=y(),te=y({mode:"payment",amount:0,currency:"",contact:{id:"",full_name:"",email:"",phone:""}}),pe=y(),N=y({mode:"payment",amount:0,currency:"usd",enableBNPL:!0}),Ae=y(""),G=y(!1),{action:{value:z},visitWebsite:{value:B}}=d.element.extra,H=Ie(()=>{var e;return((e=a.value.paymentProviderDetails)==null?void 0:e.provider)===A.CUSTOM_PROVIDER&&!!a.value.customProviderPublishableKey&&z===P.SELL_PRODUCT}),ft=async e=>{e.type==="ready"?($.value=!1,W.value="",_.value=!1):e.type==="processing"?(L.value=!0,W.value=""):e.type==="error"?(e.message==="Request failed with status code 429"?(V.value=void 0,oe.value=!0):W.value=e.message,L.value=!1,$.value=!1):e.type==="success"&&(W.value="",L.value=!1,await yt(e))},yt=async e=>{try{let t=localStorage.getItem("_ud");t&&(t=JSON.parse(t));const{paymentResponseData:o}=await Ht(t,e.data,e.provider,g);await ie(o)}catch(t){W.value=t}finally{sessionStorage.removeItem("orderResponse"),sessionStorage.removeItem("contactResponse")}},Ue=()=>{const e=(Y??"")+" "+(X??"");if(Y||X)return e;if(z===P.GO_TO_URL){const{visitWebsite:{value:t}}=d.element.extra;return t==null?void 0:t.url}return e},_t=e=>{if(!e){le.value="Verification failed! Please try again";return}le.value="",V.value=e},De=[P.CLICK_TO_CALL,P.CLICK_TO_SMS,P.GO_TO_URL,P.GO_TO_STEP];De.includes(z)&&(ve.value=!0,Ut(B==null?void 0:B.url)||(ge.value=Be())),kt(()=>{De.includes(z)&&(ve.value=!0,ge.value=Be()),a.value.orderFormVersion===2&&F&&z===P.SELL_PRODUCT&&(ht(),pe.value=JSON.parse(localStorage.getItem("_ud")||"{}").country)});async function ht(){var e,t,o,i,u,c,n,h,p,f;try{const r=await Ye.findProductById({productId:F}),w=(e=r==null?void 0:r.price)==null?void 0:e.setupFee,M=(t=r==null?void 0:r.price)==null?void 0:t.trialPeriod,I=(o=r==null?void 0:r.price)==null?void 0:o.amount,k=w?M?w:I+w:M?0:I;r.amount=k,S.value={...r,qty:1,amount:r.amount},ee.value=(i=r==null?void 0:r.price)==null?void 0:i.currency,te.value.amount=S.value.amount,te.value.currency=ee.value,te.value.mode=((u=S.value)==null?void 0:u.price.type)==="recurring"?"subscription":"payment",te.value.productDetails=[{productId:(c=r==null?void 0:r.product)==null?void 0:c._id,priceId:(n=r==null?void 0:r.price)==null?void 0:n._id}],N.value.amount=S.value.amount,N.value.currency=ee.value.toLowerCase(),((h=S.value)==null?void 0:h.price.type)==="recurring"?N.value.mode="subscription":S.value.amount?N.value.mode="payment":(N.value.mode="setup",N.value.amount=void 0);let s=localStorage.getItem("_ud");s&&(s=JSON.parse(s),te.value.contact={id:s==null?void 0:s.id,full_name:s==null?void 0:s.full_name,email:s==null?void 0:s.email,phone:s==null?void 0:s.phone}),setTimeout(()=>{Ne.value=!0},1e3)}catch(r){const w=((f=(p=r==null?void 0:r.response)==null?void 0:p.data)==null?void 0:f.message)||(r==null?void 0:r.message)||"Not able to fetch products!";console.error(w),alert("Not able to fetch products!")}}async function gt(){var t,o,i,u,c,n,h,p,f,r,w,M,I,k,s,q;const{action:e}=d.element.extra;switch(e.value){case"openPopup":{Ft(a.value.stepId),nt();break}case"url":{const{visitWebsite:l}=d.element.extra;he(l.value);break}case P.SHOW_HIDE_ELEMENT:{const{hideElements:l,showElements:R}=d.element.extra;Ze(l.value),Ke(R.value);break}case P.HIDE_ELEMENT:{const{hideElements:l}=d.element.extra;Ze(l.value);break}case P.SHOW_ELEMENT:{const{showElements:l}=d.element.extra;Ke(l.value);break}case"scroll-to-element":{const{scrollToElement:l}=d.element.extra;Ce.$emit("scroll-to-element",l.value);break}case"go-to-next-funnel-step":{_.value=!0,se();break}case P.GO_TO_STEP:{_.value=!0,se(d.element.extra.stepPath.value);break}case"sell-product":{if(_.value)return;_.value=!0;const l=`_pl_${a.value.funnelId}`,R=localStorage.getItem(l);let T;if(R&&(T=JSON.parse(R)),a.value.orderFormVersion===2){const re=ne("provider").value;if(S.value.amount===0){const U=$e();if(!U)return;const K=await Ee(g,U);if(K.paymentProvider==="free-checkout"||!a.value.requireCreditCard){const Z={altId:a.value.locationId,altType:"location",source:{type:a.value.pageType===de.FUNNEL?de.FUNNEL:de.WEBINAR?de.WEBINAR:de.WEBSITE,id:a.value.funnelId,name:a.value.funnelName},products:[{id:S.value._id,qty:1}]},J=await Q.getAmountSummary(Z);if(K.paymentProvider==="free-checkout"&&((t=S.value)==null?void 0:t.price.type)==="recurring"&&((o=J.recurringSummary)==null?void 0:o.subtotalWithDiscount)>0){await ae(),G.value=!0;return}else{await ae(),L.value=!1,await ie({});return}}}if(S.value.amount>0&&ne("provider").value!=="pp"){const U=$e();if(!U)return;if((await Ee(g,U)).paymentProvider==="free-checkout"){await ae(),G.value=!0;return}}if(re===A.CUSTOM_PROVIDER&&(T!=null&&T.manualPaymentMethodId)){ue(Xe,T==null?void 0:T.manualPaymentMethodId);return}if(ne("provider").value==="pp"){Le.value=!0,ue(et);return}else{if((((u=(i=a.value)==null?void 0:i.paymentProviderDetails)==null?void 0:u.provider)===A.AUTHORIZE_NET||((n=(c=a.value)==null?void 0:c.paymentProviderDetails)==null?void 0:n.provider)===A.WHITE_LABEL&&((p=(h=a.value)==null?void 0:h.paymentProviderDetails)==null?void 0:p.whiteLabelProvider)===A.AUTHORIZE_NET)&&a.value.merchantLoginId){ue(rt);return}else if((((r=(f=a.value)==null?void 0:f.paymentProviderDetails)==null?void 0:r.provider)===A.NMI||((M=(w=a.value)==null?void 0:w.paymentProviderDetails)==null?void 0:M.provider)===A.WHITE_LABEL&&((k=(I=a.value)==null?void 0:I.paymentProviderDetails)==null?void 0:k.whiteLabelProvider)===A.NMI)&&a.value.nmiMerchantGatewayId){ue(at);return}else if(((q=(s=a.value)==null?void 0:s.paymentProviderDetails)==null?void 0:q.provider)===A.SQUARE&&a.value.squareMerchantGatewayId){ue(tt);return}else if(H.value){await Et(A.CUSTOM_PROVIDER);return}const U=a.value.stripePublishableKey,K=a.value.stripeAccountId,Z=a.value.stripePublishableKey;if(U&&Z)Pe.value=await zt.loadStripe(U,{stripeAccount:K||void 0});else{alert("Stripe account not found!");return}Pt()}}else It();break}case"click-to-call":{const l=d.element.extra;st(l[me.PHONE_NUMBER].value);break}case"click-to-sms":{const l=d.element.extra;lt(l[me.PHONE_NUMBER].value);break}case"click-to-mail":{const l=d.element.extra;ot(l[me.EMAIL_ADDRESS].value);break}case P.GO_TO_MEMBERSHIP:{try{let l;const R=a.value.locationId,{ct:T,previewUrl:re}=ne(`_mf_${R}`).value;location.hostname==="localhost"?l=`http://localhost:4040/library/?domain=${re}&token=${T}&location_id=${R}`:l=`${re}/library?&token=${T}&location_id=${R}`,he({url:l,newTab:!1})}catch{alert("Sorry something went wrong.")}break}default:console.error(`Invalid action type received: ${e.value}`)}}const $e=()=>{let e=localStorage.getItem("_ud");e&&(e=JSON.parse(e),sessionStorage.setItem("contactResponse",JSON.stringify(e)));const t=e==null?void 0:e.customer_id;if(!t){C.value="Contact not found!";return}return t};function ie(e){var t,o,i,u,c,n,h;try{const p=e==null?void 0:e.membershipPurchase;p!=null&&p.length&&xe(g,p[0].token);const f=e==null?void 0:e.membershipToken;f&&xe(g,f),Lt(()=>{Vt("track","Upsell")});const{saleAction:r,stepPath:w,visitWebsite:M}=d.element.extra;if(!r)if(a.value.funnelNextStep){se();return}else throw new Error("Redirect not handled");if(a.value.orderFormVersion===2){const I=`_pl_${a.value.funnelId}`,k=localStorage.getItem(I);if(k){let s=JSON.parse(k);s.products.push(S.value),s.total+=(o=(t=m.value)==null?void 0:t.order)==null?void 0:o.amount,s.tax=(c=(u=(i=m.value)==null?void 0:i.order)==null?void 0:u.taxSummary)==null?void 0:c.map(q=>{var R;const l=(R=s==null?void 0:s.tax)==null?void 0:R.find(T=>T._id===q._id);return l?{...l,amount:l.amount+q.amount}:q}),je(I,JSON.stringify(s))}}else{const I=`_pl_v1_${a.value.funnelId}`,k=localStorage.getItem(I);if(k){let s=JSON.parse(k);s.push((h=(n=d==null?void 0:d.element.extra)==null?void 0:n.productId)==null?void 0:h.value),je(I,JSON.stringify(s))}}switch(r.value){case"url":if(M&&M.value&&M.value.url){he(M.value);break}else throw new Error("Redirect not handled");case"step-path":if(w&&w.value){se(w.value);break}else throw new Error("Redirect not handled");default:if(a.value.funnelNextStep){se();break}else throw new Error("Redirect not handled")}}catch(p){{const f=JSON.parse(localStorage.getItem("_ud")||"{}");console.log(p);const r=we.includes(localStorage.getItem(`pmt_${a.value.funnelId}_${f==null?void 0:f.id}`)||"")?"We are proccessing your order with the bank. We'll confirm you order after bank's confirmation.":`Order successfully placed! 
 However, Something went wrong while displaying this webpage, please contact the seller.`;alert(r)}_.value=!1;return}}const ae=async()=>{var i,u;a.value.countryList.length===0&&await qt();const e=Ie(()=>{var c;return((c=Jt(pe==null?void 0:pe.value))==null?void 0:c.states.map(n=>({iso:n.code,name:n.name})))??[]});let t=localStorage.getItem("_ud");t&&(t=JSON.parse(t),sessionStorage.setItem("contactResponse",JSON.stringify(t)));const o=t==null?void 0:t.customer_id;if(!o){C.value="Contact not found!";return}if(oe.value&&!V.value){le.value="Invalid Captcha!",L.value=!1,_.value=!1;return}if(m.value=await Wt({contactId:o,domain:a.value.domain,pageUrl:a.value.pageUrl,locationId:g,productPreviewList:[{_id:F,qty:1}],store:a.value,subType:Dt.UPSELL,traceId:t==null?void 0:t.traceId,reCaptchaToken:V.value,toZip:t.postal_code,toState:((i=e.value.find(c=>c.name===t.state))==null?void 0:i.iso)??"",toCountry:t.country}),V.value=void 0,(u=m.value)!=null&&u.error){m.value.status===429&&(oe.value=!0),C.value=m.value.message??"Error creating order!",L.value=!1,_.value=!1;return}sessionStorage.setItem("orderResponse",JSON.stringify(m.value))};async function Pt(){var e,t,o,i,u,c,n,h,p;try{if(!F)throw new Error("No product Id found for initiating stripe payment");if(C.value="",await ae(),N.value.amount=(t=(e=m.value)==null?void 0:e.order)==null?void 0:t.amount,N.value.currency=ee.value.toLowerCase(),N.value.mode=((o=S.value)==null?void 0:o.price.type)==="recurring"?"subscription":"payment",!((u=(i=m.value)==null?void 0:i.order)!=null&&u.amount)&&((c=S.value)==null?void 0:c.price.type)!=="recurring"&&(N.value.mode="setup"),!m.value||(n=m.value)!=null&&n.error)return;let f={};f={altId:g,altType:"location",orderId:m.value.order._id,reCaptchaToken:V.value};const r=JSON.parse(localStorage.getItem("_ud")||"{}");we.includes(localStorage.getItem(`pmt_${a.value.funnelId}_${r==null?void 0:r.id}`)||"")&&(f.paymentMethodTypes=[jt.sepa]);const w=await Ee(g,(h=m.value.order)==null?void 0:h.contactId);if(!!["klarna","affirm","afterpay_clearpay"].includes(w.paymentMethod)){G.value=!0;return}const I=await Q.initiateStripePayment(f);if(!I.success){C.value=I.message||"We're sorry, but something went wrong. Please try again.";return}const{clientSecret:k,paymentMethodId:s}=I;if(k){let J={};if(we.includes(localStorage.getItem(`pmt_${a.value.funnelId}_${r==null?void 0:r.id}`)||"")?J=await Pe.value.confirmSepaDebitPayment(k,{payment_method:s}):J=await Pe.value.confirmCardPayment(k,{payment_method:s,setup_future_usage:"off_session"}),J.error){console.error("Failed to confirm card payment!",J.error),J.error.message&&alert(J.error.message);return}}const{orderId:q,paymentIntentId:l,subscriptionId:R,invoiceId:T,subId:re,txnId:U}=I,K={altId:g,altType:"location",orderId:q,paymentIntentId:l,subscriptionId:R,invoiceId:T,isAuth:!1,subId:re,txnId:U,attribution:{eventData:fe(),sessionId:ye(g),sessionFingerprint:_e(g)}},Z=await Q.verifyStripePayment(K);if(!Z.success){C.value=Z.message||"We're sorry, but something went wrong. Please try again.";return}await ie(Z)}catch(f){if(((p=f==null?void 0:f.response)==null?void 0:p.status)===429){oe.value=!0,L.value=!1,_.value=!1;return}C.value=Qe(f),_.value=!1,console.error(f)}}async function ue(e,t){var o,i,u,c,n;try{if(!F)throw new Error(`No product Id found for initiating ${e||"stripe"} payment`);if(L.value=!0,C.value="",await ae(),!m.value||(o=m.value)!=null&&o.error)return;let h;if((i=m.value)!=null&&i.order._id){h={altId:g,altType:"location",orderId:(u=m.value)==null?void 0:u.order._id,attribution:{eventData:fe(),sessionId:ye(g),sessionFingerprint:_e(g)}};let p;switch(e){case rt:{p=await Q.authorizeNetOrderPayment(h);break}case at:{p=await Q.nmiOrderPayment(h);break}case Xe:{t&&(h.manualPaymentMethodId=t),p=await Q.customProviderOrderPayment(h);break}case tt:{const f=await Gt(g,(c=m.value.order)==null?void 0:c.contactId);if(!f||f==="false"){Ae.value=((n=S.value)==null?void 0:n.price.type)==="recurring"?"subscription":"",G.value=!0,L.value=!1;return}p=await Q.squareOrderPayment({...h,saveCard:!1});break}case et:G.value=!0,L.value=!1;return;default:console.log("Invalid payment provider");break}if(console.error(p),L.value=!1,!p.success){C.value=p.message||"We're sorry, but something went wrong. Please try again.";return}await ie({membershipPurchase:p.membershipPurchase,membershipToken:p.membershipToken})}}catch(h){_.value=!1,L.value=!1,console.error(h),C.value=Qe(h)}}async function It(){if(F)try{const e=$t(),t={...fe(),fbEventId:e},o=ye(g),i=_e(g),u=await Ye.funnelPayment({fingerprint:ne("msgsndr_id").value,productList:[F],locationId:g,funnelId:dt,stepId:mt,pageId:vt,domain:a.value.domain,pageUrl:a.value.pageUrl,source:"payment_button",submissionType:3,eventData:t,sessionId:o,sessionFingerprint:i,_mp:ne("_mp").value});await ie(u)}catch(e){console.error(e)}finally{_.value=!0}}function Be(){var t,o,i,u,c;let e="";switch(z){case P.CLICK_TO_CALL:{let n=(t=d.element.extra[me.PHONE_NUMBER])==null?void 0:t.value;n=n==null?void 0:n.replace("tel:",""),e=`tel:${n}`;break}case P.CLICK_TO_SMS:{let n=(o=d.element.extra[me.PHONE_NUMBER])==null?void 0:o.value;n=n==null?void 0:n.replace("sms:",""),e=`sms:${n}`;break}case P.GO_TO_URL:{e=B==null?void 0:B.url,e=Se(e),e&&!e.startsWith("#")&&!/^https?:/.test(e)&&(e=`https://${e}`),Re.value=B!=null&&B.newTab?"_blank":"";break}case P.GO_TO_STEP:{const n=(c=(u=(i=d.element)==null?void 0:i.extra)==null?void 0:u.stepPath)==null?void 0:c.value;e=it(n,!1);break}}return e}async function bt(e){if(a.value.videoExistsInPage&&Ce.$emit("handle-redirect"),z===P.GO_TO_STEP){const t=d.element.extra.stepPath.value;ut(e,t)}}function St(){G.value=!1,_.value=!1,$.value=!1}async function Et(e){var o,i,u,c,n;if(!F)throw new Error("No product Id found for initiating stripe payment");if(C.value="",await ae(),!((i=(o=m.value)==null?void 0:o.order)!=null&&i._id&&e===A.CUSTOM_PROVIDER))return;const t={source:"order",sourceId:(c=(u=m==null?void 0:m.value)==null?void 0:u.order)==null?void 0:c._id,sourceDetails:m.value.order,traceId:m.value.traceId,extra:{attribution:{eventData:fe(),sessionId:ye(g),sessionFingerprint:_e(g)}},captchaToken:V.value};(n=Me.value)==null||n.confirmPayment(t)}return(e,t)=>{const o=Yt,i=Xt,u=ea;return E(),O(Rt,null,[ve.value?(E(),O("a",{key:0,id:`${v.element.id}_btn`,href:ge.value,target:Re.value,"data-animation-class":b(Oe),class:ze([v.classStyles,"text-center"]),onClick:t[0]||(t[0]=c=>bt(c)),"aria-label":Ue()},[D("span",{style:ce(_.value?"visibility: hidden;":""),class:"main-heading-group"},[v.element.extra.icon!==""?(E(),O("span",aa)):x("",!0),D("span",ra,j(b(Y)),1),v.element.extra.icon!==""?(E(),O("span",na)):x("",!0)],4),v.element.extra.subText&&v.element.extra.subText.value?(E(),O("span",{key:0,style:ce(_.value?"visibility: hidden;":""),class:"sub-heading-group text-xs font-sans"},[D("span",sa,j(b(X)),1)],4)):x("",!0)],10,ta)):x("",!0),oe.value?(E(),O("section",oa,[be(o,{onExpired:t[1]||(t[1]=()=>V.value=""),onVerify:_t}),le.value?(E(),O("p",la,j(le.value),1)):x("",!0)])):x("",!0),ve.value?x("",!0):(E(),O("button",{key:2,disabled:_.value||b(H)&&$.value,"data-animation-class":b(Oe),id:`${v.element.id}_btn`,style:ce(_.value||b(H)&&$.value?"cursor: default;":""),class:ze([v.classStyles]),onClick:gt,"aria-label":Ue()},[D("div",{style:ce(_.value||b(H)&&$.value?"visibility: hidden;":""),class:"main-heading-group"},[v.element.extra.icon!==""?(E(),O("div",ua)):x("",!0),D("div",ca,j(b(Y)),1),v.element.extra.icon!==""?(E(),O("div",da)):x("",!0)],4),v.element.extra.subText&&v.element.extra.subText.value?(E(),O("div",{key:0,style:ce(_.value||b(H)&&$.value?"visibility: hidden;":""),class:"text-xs font-sans"},[D("div",ma,j(b(X)),1)],4)):x("",!0),Tt(D("div",va,[be(Qt,{loading:_.value||b(H)&&$.value,color:"rgb(255, 255, 255)",size:"30px"},null,8,["loading"])],512),[[Ot,_.value||b(H)&&$.value]])],14,ia)),D("div",null,[Ne.value&&b(a).funnelPageId&&b(H)?(E(),O("section",pa,[D("div",{id:`${v.element.id}-payment-form`,class:"payment-form"},[be(i,{id:`${v.element.id}-payment-element`,ref_key:"confirmPaymentRef",ref:Me,customProviderProps:te.value,onPaymentCallback:ft},null,8,["id","customProviderProps"]),W.value?(E(),O("div",ya,[D("img",{src:b(Zt),alt:"alert"},null,8,_a),xt(" "+j(W.value),1)])):x("",!0)],8,fa)])):x("",!0)]),C.value?(E(),O("div",ha,j(C.value),1)):x("",!0),G.value?(E(),Ct(u,{key:4,extra:d.element.extra,stripeOptions:N.value,order:m.value,traceId:m.value.traceId,element:d.element,styles:v.classStyles,squarePaymentMode:Ae.value,showPaypal:Le.value&&ee.value,paymentProps:{currency:ee.value,mode:b(pt)?"subscription":"onetime"},onClosePaymentElementModal:St},null,8,["extra","stripeOptions","order","traceId","element","styles","squarePaymentMode","showPaypal","paymentProps"])):x("",!0)],64)}}});export{Ba as default};
