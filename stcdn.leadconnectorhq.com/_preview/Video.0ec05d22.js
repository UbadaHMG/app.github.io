import { P as Ie, d as Ae, r as u, G as De, c as Q, o as Ce, A as Fe, B as ue, a as c, b as g, f as n, h as he, i as O, l as ye, e as oe, w as pe, v as me, n as Z, F as Ue, q as be, s as _e, j as Re, u as $e, x as ze, g as He, J as Me, m as je, _ as Ne } from "./entry.0e8f1b40.js"; import { g as fe, a as K, n as Ge, u as qe, ai as xe, aj as Je, c as We, m as Ke } from "./constants.c1fa6fa6.js"; import { _ as Qe } from "./HtmlPreview.vue.ccc4e81b.js"; import { S as Ze } from "./components.e5153daf.js"; import { u as Xe } from "./useRedirectAction.c1fc0127.js"; import { _ as Ye } from "./index.b3663b14.js"; import { V as Oe, o as et, i as tt } from "./optimize_script.5f619b33.js"; import { I as ge } from "./HLConst.96411594.js"; import "./HLImage.vue.55c0a178.js"; import "./client-only.ec7d1c36.js"; import "./utils.06d161ac.js"; import "./index.35670e06.js"; import "./FunnelServices.e4841ee2.js"; import "./am_helper.703cc0d7.js"; import "./currency_helper.ed08bd45.js"; const ot = () => { var R, e; const l = { channel: "APP", source: "WEB_USER", version: "2021-04-15" }, m = (e = (R = Intl == null ? void 0 : Intl.DateTimeFormat()) == null ? void 0 : R.resolvedOptions()) == null ? void 0 : e.timeZone; return m && (l.timezone = m), l }, it = l => { const m = Ie(); return $fetch.create({ baseURL: l || m.public.REST_API_URLS, headers: ot() }) }, at = { getAvailableFormats: l => it()("/medias/formats", { params: { id: l }, method: "GET" }) }, lt = be(() => _e(() => import("./CVideoLeadPopup.70affa8c.js"), ["./CVideoLeadPopup.75c5f75b.css"], import.meta.url).then(l => l.default || l)), nt = be(() => _e(() => import("./HLImage.7b173f62.js"), [], import.meta.url).then(l => l.default || l)), st = ["id"], rt = ["id", "autoplay", "muted"], dt = ["src"], ut = ["src", "type"], ct = Ae({
  __name: "EncodedVideo", props: { videoId: { type: String, required: !0 }, fileId: { type: String, required: !0 }, url: { type: String, required: !0 }, properties: { type: Object, required: !0 }, fallback: { type: Object, required: !0 }, checkStep: { type: Object, required: !0 }, thumbnail: { type: String, default: () => "" }, leadVideoOptions: { type: Object, default: { isLeadGenVideo: !0 } }, elementVersion: { type: Number, default: 1 } }, async setup(l) {
    var E; let m, R; const e = l, { getNextFunnelStepURL: ie } = Xe(), _ = u(!1), q = `thumbnail-${e.videoId}`, ae = e.thumbnail ? `
  @media (max-width: 480px) {
        .${q} {
          background: url(${fe(K(e.thumbnail), ge.xsmall)});
        }
    }

    @media (min-width: 481px) and (max-width: 1024px) {
        .${q} {
          background: url(${fe(K(e.thumbnail), ge.small)});
        }
    }

    @media (min-width: 1025px) {
        .${q} {
          background: url(${fe(K(e.thumbnail), ge.large)});
        }
    }
  `: "", x = [53, 32, 16], { data: D } = ([m, R] = De(async () => Ge(`${e.videoId}`, async o => { var i; try { if (!e.fileId) return { formats: x }; const d = await at.getAvailableFormats(e.fileId); let f = x; return (i = d == null ? void 0 : d.formats) != null && i.length && (f = d.formats), { formats: f } } catch { return { formats: x } } })), m = await m, R(), m), X = Q(() => { var i; const o = e.leadVideoOptions.formElement; if ((i = o == null ? void 0 : o.formData) != null && i.form) return o.formData.form.isLeadGenVideo = !0, o.formData.form.videoId = e.videoId, o }), ce = Q(() => { var o, i; return ((o = e.leadVideoOptions) == null ? void 0 : o.isLeadGenVideo) && ((i = e.leadVideoOptions.formElement) == null ? void 0 : i.formData) }), h = u((E = D == null ? void 0 : D.value) == null ? void 0 : E.formats), le = Q(() => { var i; const o = h.value || x; return (i = e.url) == null ? void 0 : i.replace("AVAILABLE_FORMATS", o.join(",")) }), Y = () => { _.value = !0, k.value && G() }, k = Q(() => { var o, i; return ((o = e.properties) == null ? void 0 : o.autoplay) === void 0 ? !0 : (i = e.properties) == null ? void 0 : i.autoplay }), { $bus: F } = Re(), ee = u(0), ne = Ie(), B = u(), s = qe(), P = u(!1); s.value.videoExistsInPage = !0; const T = u(!0), t = u(), te = u(!1), U = u(!1), A = u(), J = u({ fluid: !(e.elementVersion > 1), autoplay: k.value ? "muted" : !1, muted: k.value, controls: !0, loop: !1, playbackRates: e.properties.playBackSpeed ? [.5, 1, 1.2, 1.5, 2] : !1, fullWindow: !0, userActions: { doubleClick: !1 }, controlBar: { fullscreenToggle: e.properties.showFullScreenToggle === void 0 ? !0 : e.properties.showFullScreenToggle, remainingTimeDisplay: e.properties.showPendingTime || !1, progressControl: e.properties.showProgressBar === void 0 ? !0 : e.properties.showProgressBar, playToggle: e.properties.allowPlayPause || !1, volumePanel: !0 } }), N = u(!1), se = o => (o.preventDefault(), !1), G = () => { t.value ? setTimeout(() => { var o; (o = t == null ? void 0 : t.value) == null || o.play() }, 50) : t.value ? ee.value < 3 && setTimeout(() => { ee.value++, G() }, 1e3) : ve(), N.value = !0 }, re = ["https://stcdn.leadconnectorhq.com/videojs/7.20.3/video.min.js", "https://stcdn.leadconnectorhq.com/videojs/ie8/1.1.2/videojs-ie8.min.js", "https://stcdn.leadconnectorhq.com/videojs/7.20.3/videojs-http-streaming.min.js", "https://stcdn.leadconnectorhq.com/videojs/videojs-hls-quality-selector/1.1.4/videojs-hls-quality-selector.min.js", "https://stcdn.leadconnectorhq.com/videojs/videojs-contrib-quality-levels/2.2.0/videojs-contrib-quality-levels.min.js", "https://stcdn.leadconnectorhq.com/videojs/videojs-markers.min.js"], ve = () => { { const o = window.videojs; et(() => { $e({ link: [{ rel: "stylesheet", href: "https://stcdn.leadconnectorhq.com/videojs/7.20.3/video-js.css" }, { rel: "stylesheet", href: "https://stcdn.leadconnectorhq.com/videojs/videojs.markers.min.css" }] }), tt(o ? [] : re, () => { W().then(() => { $e({ script: [{ children: 'var videoList,currentPlayer,closeButton,fullScreenIcon,inViewPortBol=!0,videoTagId=[],events=["ended","pause","playing","play"];for(i=0,videoList=document.querySelectorAll("video.pip-scroll-video");i<videoList.length;i++)videoTagId.push("videoPlayerId"+i),videoTagId[i]=document.getElementById(videoList[i].id);for(i=0;i<videoTagId.length;i++)for(var j in events)videoTagId[i].addEventListener(events[j],videoTagPlayerhandler,!1,{passive:!0});function videoTagPlayerhandler(e){for(i=0;i<videoTagId.length;i++)if(e.target==videoTagId[i]&&"playing"==e.type){currentPlayer=videoTagId[i],closeButton=document.getElementById(currentPlayer.id+"-video-js-close-button"),videoTagId[i].classList.remove("is-paused"),videoTagId[i].classList.add("is-playing");break}for(i=0;i<videoTagId.length;i++)currentPlayer!=videoTagId[i]&&(videoTagId[i].classList.remove("is-playing"),videoTagId[i].classList.add("is-paused"));for(i=0;i<videoTagId.length;i++)e.target==videoTagId[i]&&"pause"==e.type&&(videoTagId[i].classList.add("is-paused"),videoTagId[i].classList.remove("is-playing"));for(i=0;i<videoTagId.length;i++)videoTagId[i].classList.contains("is-sticky")&&videoTagId[i].pause();for(i=0;i<videoTagId.length;i++)e.target==videoTagId[i]&&"ended"==e.type&&(videoTagId[i].classList.remove("is-playing"),videoTagId[i].classList.remove("is-paused"));videohandler()}function onPlayerStateChange(e){for(i=0;i<videoTagId.length;i++)videoTagId[i].classList.contains("is-sticky")&&videoTagId[i].pause();videohandler()}function videohandler(){currentPlayer&&closeButton&&closeButton.addEventListener("click",function(e){if(currentPlayer.classList.contains("is-sticky"))for(currentPlayer.classList.remove("is-sticky"),closeFloatVideo(),i=0;i<videoTagId.length;i++)currentPlayer==videoTagId[i]&&videoTagId[i].pause();else for(i=0;i<videoTagId.length;i++)currentPlayer!=videoTagId[i]&&(videoTagId[i].classList.remove("is-sticky"),closeFloatVideo())},{passive:!0})}function inViewPort(){if(currentPlayer){var e=currentPlayer.parentElement.getBoundingClientRect();return e.bottom>0&&e.right>0&&e.left<(window.innerWidth||document.documentElement.clientWidth)&&e.top<(window.innerHeight||document.documentElement.clientHeight)}}function openFloatVideo(){closeButton.style.display="block"}function closeFloatVideo(){for(let e of document.getElementsByClassName("close-button-pip-scroll"))e.style.display="none";closeButton.style.display="none"}window.addEventListener("scroll",function(){if(inViewPortBol=inViewPort(),currentPlayer){if(!inViewPortBol&&currentPlayer.classList.contains("is-playing")&&null===document.pictureInPictureElement){for(i=0;i<videoTagId.length;i++)currentPlayer!=videoTagId[i]&&videoTagId[i].classList.remove("is-sticky");currentPlayer.classList.add("is-sticky"),openFloatVideo()}else currentPlayer.classList.contains("is-sticky")&&(currentPlayer.classList.remove("is-sticky"),closeFloatVideo())}},{passive:!0});' }] }), G() }) }) }) } }; e.leadVideoOptions.isLeadGenVideo && (Ce(() => { F.$on("video-lead-popup-submitted", o => { o === e.videoId && a() }), F.$on("closing-popup", o => { o === e.videoId && b() }) }), Fe(() => { F.$off("video-lead-popup-submitted") })); const W = () => new Promise(async (o, i) => { var j, L, z, H, w; B.value = JSON.parse(xe("_ud")); const d = (j = e.checkStep) == null ? void 0 : j.checkStep, f = (z = (L = e.checkStep) == null ? void 0 : L.step) == null ? void 0 : z.value, V = /iPhone|iPad|iPod/i.test(navigator.userAgent) || ["iPad Simulator", "iPhone Simulator", "iPod Simulator", "iPad", "iPhone", "iPod"].includes(navigator.platform), S = /Android|webOS|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent); if (!V && !S ? A.value = "desktop" : V ? A.value = "iphone" : S && (A.value = "android"), !((H = B.value) != null && H.customer_id) && d && f) { const y = ie(f, !0); window.location.href = y } r("init", "page"), document.body.onclick = () => { }, await fetch(le.value).then(y => { y != null && y.status && y.status !== 200 && (T.value = !1) }).catch(y => { console.warn("Video not available in encoded format! using fallback"), T.value = !1 }), t.value = videojs(`${e.videoId}-video-js`, J.value, () => { }); let $ = t.value.el().querySelector("video"); $ && ((w = e == null ? void 0 : e.properties) != null && w.showPipOnScroll) && $.classList.add("pip-scroll-video"), e.leadVideoOptions.isLeadGenVideo && ue(e.videoId).value !== s.value.funnelPageId && (t.value.controlBar.removeChild(t.value.controlBar.getChild("PictureInPictureToggle")), de()); try { t.value.hlsQualitySelector() } catch (y) { console.warn(y) } t.value.on("click", () => { I.value = !0, J.value.controlBar.playToggle || t.value.play() }), t.value.on("ended", async () => { U.value || (r("completed", "player"), U.value = !0) }), t.value.on("abort", async () => { r("abort", "player") }), t.value.on("error", async () => { r("error", "player") }), t.value.on("play", async () => { if (I.value = !1, !J.value.controlBar.playToggle) if (te.value === !1) te.value = !0; else return; U.value || r("play", "player") }), t.value.on("pause", async y => { var M, ke, we, Pe, Te, Ve, Se, Le; let C = (Pe = (we = (ke = (M = t.value) == null ? void 0 : M.controlBar) == null ? void 0 : ke.progressControl) == null ? void 0 : we.seekBar) == null ? void 0 : Pe.progress_; if (!C) { const Be = (Ve = (Te = t.value) == null ? void 0 : Te.cache_) == null ? void 0 : Ve.currentTime, Ee = (Le = (Se = t.value) == null ? void 0 : Se.cache_) == null ? void 0 : Le.duration; Be && Ee ? C = Be / Ee : C = 0 } C >= .98 || r("pause", "player") }), A.value !== "desktop" ? window.addEventListener("blur", y => { y.preventDefault(), P.value || v("page"), P.value = !0 }, { passive: !0 }) : (window.addEventListener("beforeunload", y => { P.value || v("page"), P.value = !0 }, { passive: !0 }), window.addEventListener("pagehide", y => { P.value || v("page"), P.value = !0 }, { passive: !0 })), F.$on("handle-redirect", () => { A.value !== "desktop" && !U.value && (P.value || v("page"), P.value = !0) }), o(t.value) }), de = () => { t.value.markers({ markerStyle: { background: "url('https://stcdn.leadconnectorhq.com/videojs/video-lead-lock.png')", "background-size": "contain", width: "20px", height: "20px", top: "-9px" }, markerTip: { display: !1, text() { return "" } }, markers: [{ time: Math.max(0, e.leadVideoOptions.timeStamp - .2), text: "" }] }), t.value.on("timeupdate", () => { t.value.currentTime() >= e.leadVideoOptions.timeStamp && p() }), t.value.on("seeking", () => { var o, i; t.value.currentTime() >= ((o = e.leadVideoOptions) == null ? void 0 : o.timeStamp) && (t.value.currentTime((i = e.leadVideoOptions) == null ? void 0 : i.timeStamp), t.value.pause()) }) }, a = (o = !0) => { var i, d, f, V; if (o) { const S = ue(e.videoId, { maxAge: 1209600 }); S.value = s.value.funnelPageId } (i = t == null ? void 0 : t.value) == null || i.off("timeupdate"), (d = t == null ? void 0 : t.value) == null || d.off("seeking"), (f = t == null ? void 0 : t.value) == null || f.markers.removeAll(), (V = t == null ? void 0 : t.value) == null || V.play() }, b = () => { e.leadVideoOptions.isVideoPlayAllowed && a(!1) }, p = () => { var o, i; (o = t == null ? void 0 : t.value) == null || o.pause(), t.value.currentTime((i = e.leadVideoOptions) == null ? void 0 : i.timeStamp), document.fullscreenElement && document.exitFullscreen(), F.$emit("open-video-lead-popup", e.videoId) }, r = (o, i) => { var d, f, V, S, $, j, L, z, H; try { let w = (S = (V = (f = (d = t.value) == null ? void 0 : d.controlBar) == null ? void 0 : f.progressControl) == null ? void 0 : V.seekBar) == null ? void 0 : S.progress_; if (!w) { const C = (j = ($ = t.value) == null ? void 0 : $.cache_) == null ? void 0 : j.currentTime, M = (z = (L = t.value) == null ? void 0 : L.cache_) == null ? void 0 : z.duration; C && M ? w = C / M : w = 0 } const y = { fingerprint: ue("msgsndr_id").value, contactId: s.value.contactId || ((H = B == null ? void 0 : B.value) == null ? void 0 : H.customer_id), funnelId: s.value.funnelId, locationId: s.value.locationId, stepId: s.value.stepId, pageId: s.value.funnelPageId, domain: s.value.domain, path: s.value.pageUrl, event: o, videoUrl: K(e.fallback.url), videoId: e.fileId, progress: w, autoplay: k.value, userAgent: navigator.userAgent, device: A.value, eventType: i, version: 1, email: s.value.email, phone: s.value.phone }; Je.createFunnelVideoEvent(y) } catch (w) { console.error(w) } }, v = o => { var i, d, f, V, S, $, j, L, z; if (!U.value) { navigator.sendBeacon || r("close", o); try { const H = `${ne.public.STATS_API_URL}/stats/video/event/beacon`; let w = (V = (f = (d = (i = t.value) == null ? void 0 : i.controlBar) == null ? void 0 : d.progressControl) == null ? void 0 : f.seekBar) == null ? void 0 : V.progress_; if (!w) { const C = ($ = (S = t.value) == null ? void 0 : S.cache_) == null ? void 0 : $.currentTime, M = (L = (j = t.value) == null ? void 0 : j.cache_) == null ? void 0 : L.duration; C && M ? w = C / M : w = 0 } const y = { fingerprint: ue("msgsndr_id").value, contactId: s.value.contactId || ((z = B == null ? void 0 : B.value) == null ? void 0 : z.customer_id), funnelId: s.value.funnelId, locationId: s.value.locationId, stepId: s.value.stepId, pageId: s.value.funnelPageId, domain: s.value.domain, path: s.value.pageUrl, event: "close", videoUrl: K(e.fallback.url), videoId: e.fileId, progress: w, autoplay: k.value, userAgent: navigator.userAgent, device: A.value, eventType: o, version: 1, email: s.value.email, phone: s.value.phone }; navigator.sendBeacon(H, JSON.stringify(y)) } catch { console.warn("Unload beacon failing") } } }, I = u(!1); return (o, i) => { var S, $, j; const d = lt, f = Ze, V = nt; return c(), g(Ue, null, [n(ce) ? (c(), he(d, { key: 0, element: n(X), videoId: e.videoId }, null, 8, ["element", "videoId"])) : O("", !0), ye(f, { type: "text/css", children: n(ae) }, null, 8, ["children"]), oe("div", { class: Z(l.elementVersion > 1 ? ["centered"] : ["h-100", "w-100"]) }, [l.elementVersion < 2 ? pe((c(), g("div", { key: 0, class: Z(["hosted-video-thumbnail", q]), onClick: i[0] || (i[0] = L => G()), style: { backgroundSize: "cover", paddingBottom: "56.25%" } }, null, 2)), [[n(Oe), Y], [me, e.thumbnail && !n(N) && !n(k) || !n(t)]]) : O("", !0), l.elementVersion > 1 ? pe((c(), g("div", { key: 1, class: "hosted-video-thumbnail centered", onClick: i[1] || (i[1] = L => G()) }, [l.thumbnail ? (c(), he(V, { key: 0, url: l.thumbnail, height: "full", width: "full", isThumbnail: !0 }, null, 8, ["url"])) : O("", !0)])), [[n(Oe), Y], [me, e.thumbnail && !n(N) && !n(k) || !n(t)]]) : O("", !0), pe(oe("div", { onClick: i[2] || (i[2] = L => I.value = !0), onTouchstart: i[3] || (i[3] = L => I.value = !0), class: Z([(S = e == null ? void 0 : e.properties) != null && S.showPipOnScroll ? "videoTag" : "", "centered"]) }, [($ = e == null ? void 0 : e.properties) != null && $.showPipOnScroll ? (c(), g("img", { key: 0, src: Ye, alt: "close", class: "close-button-pip-scroll", id: `${l.videoId}-video-js_html5_api-video-js-close-button` }, null, 8, st)) : O("", !0), n(_) ? (c(), g("video", { key: 1, id: `${l.videoId}-video-js`, class: Z(["vjs-big-play-centered video-js vjs-default-skin", { autoplay: n(k), "pip-scroll-video": (j = e == null ? void 0 : e.properties) == null ? void 0 : j.showPipOnScroll }]), onContextmenu: se, playsinline: "", autoplay: n(k), muted: n(k) }, [n(T) ? (c(), g("source", { key: 0, src: n(le), type: "application/x-mpegURL" }, null, 8, dt)) : (c(), g("source", { key: 1, src: n(K)(e.fallback.url), type: e.fallback.type }, null, 8, ut))], 42, rt)) : O("", !0)], 34), [[me, (!e.thumbnail || n(N) || n(k)) && n(t)]])], 2)], 64) }
  }
}); const vt = be(() => _e(() => import("./HLImage.7b173f62.js"), [], import.meta.url).then(l => l.default || l)), pt = ["id"], mt = { key: 1, class: "mx-auto w-100" }, ft = ["id"], gt = ["data-bg-src"], ht = ["id"], yt = ["src"], It = { key: 1, class: "video-icon" }, bt = ["id"], _t = ["id"], kt = { class: "iframe-container h-100" }, wt = ["src"], Pt = { key: 1, class: "video-icon" }, Tt = Ae({ __name: "Video", props: ["element", "popup"], setup(l) { var de; const m = l, R = qe(), e = Ie(), { $bus: ie } = Re(), { extra: _ } = m.element, { thumbnailURL: q, embedURL: ae, customEmbedCode: x, autoplay: D, type: X, controls: ce } = _.videoProperties.value, h = u(""); ae && (h.value = ae); const le = X === "custom_embed", Y = X === "youtube", k = X === "selfHosted", F = u(""), ee = u({}), ne = u({}), B = u({}), s = u(""); let P = u(`${m.element.id}-${new Date().getTime()}`); const T = u(!1), t = u(!1), te = u(), U = u(); let A = !1; const J = ((de = _ == null ? void 0 : _.elementVersion) == null ? void 0 : de.value) ?? 1; k && G(_); const N = Q(() => { var a, b, p, r; try { const v = parseInt(((r = (p = (b = (a = m == null ? void 0 : m.element) == null ? void 0 : a.extra) == null ? void 0 : b.videoProperties) == null ? void 0 : p.value) == null ? void 0 : r.width) || 100); return v === 50 ? "w-1-2" : v === 75 ? "w-3-4" : "w-100" } catch { return "w-100" } }), se = Q(() => 56.25); function G(a) { var r, v, I, E, o, i, d, f; const b = ((I = (v = (r = a == null ? void 0 : a.videoProperties) == null ? void 0 : r.value) == null ? void 0 : v.selfHostedVideo) == null ? void 0 : I.id) || "", p = R.value.locationId; te.value = ((i = (o = (E = a == null ? void 0 : a.videoProperties) == null ? void 0 : E.value) == null ? void 0 : o.selfHostedVideo) == null ? void 0 : i.thumbnail) || "", ee.value = ((f = (d = a == null ? void 0 : a.videoProperties) == null ? void 0 : d.value) == null ? void 0 : f.selfHostedVideo) || {}, s.value = b, F.value = e.public.HLS_URL + `/hls/medias/${p}/media/transcoded_videos/${s.value}_,AVAILABLE_FORMATS,00k.mp4.urlset/master.m3u8`, ne.value = a == null ? void 0 : a.playBackControls, B.value = a == null ? void 0 : a.checkStep, U.value = a == null ? void 0 : a.leadVideoOptions } function re() { if (m.popup) { const a = h.value.replace("autoplay=1", "autoplay=0"); P.value = "", setTimeout(() => { h.value = a, P.value = `${m.element.id}-${new Date().getTime()}` }, 500) } } async function ve(a, b) { const p = await Ke(a) || ""; try { switch (b) { case "youtube": { const r = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/, v = p.match(r); return v && v[7] && v[7].length === 11 ? `https://www.youtube.com/embed/${v[7]}` : a } case "vimeo": { const I = new URL(p).pathname.split("/"); if (!I.length) return p; if (I.length > 2) { const E = I[1], o = I[2]; return `https://player.vimeo.com/video/${E}?h=${o}&byline=0&portrait=0` } else return `https://player.vimeo.com/video/${I[1]}?byline=0&portrait=0` } case "wistia": { const r = p.split("/"); return `https://fast.wistia.net/embed/iframe/${r[r.length - 1]}` } case "html": return p; default: throw new Error(`Unsupported video type ${b}`) } } catch (r) { return console.error(r), a } } Ce(async () => { var p; A = /iPhone|iPad|iPod|wv/i.test(navigator.userAgent) || ["iPad Simulator", "iPhone Simulator", "iPod Simulator", "iPad", "iPhone", "iPod"].includes(navigator.platform), ie.$on("closing-popup", re); const { url: a, type: b } = (p = _ == null ? void 0 : _.videoProperties) == null ? void 0 : p.value; (!h.value || We(h.value)) && (a && (h.value = await ve(a, b)), T.value = !0), ze(() => { setTimeout(() => { t.value = !0 }, 2500), setTimeout(() => { var v, I, E, o, i, d; const r = R.value.mobileDevice; r && !((E = (I = (v = m.element.extra) == null ? void 0 : v.visibility) == null ? void 0 : I.value) != null && E.hideMobile) && D === 1 && (T.value = !0), !r && !((d = (i = (o = m.element.extra) == null ? void 0 : o.visibility) == null ? void 0 : i.value) != null && d.hideDesktop) && D === 1 && (T.value = !0) }, 3e3) }) }), He(() => { ie.$off("closing-popup", re) }); function W(a) { var b, p; a.preventDefault(), a.stopPropagation(), T.value = !0, ce === 0 && ((p = (b = _ == null ? void 0 : _.videoProperties) == null ? void 0 : b.value) == null ? void 0 : p.type) === "vimeo" && A ? D ? h.value = h.value.replace("autoplay=0", "autoplay=1&muted=1") : h.value = h.value.replace("autoplay=0", "autoplay=1&controls=1") : h.value = h.value.replace("autoplay=0", "autoplay=1") } return Me(() => R.value.mobileDevice, a => { a && setTimeout(() => { D === 1 && (T.value = !0) }, 2e3) }), (a, b) => { const p = vt; return le ? (c(), g("div", { key: 0, id: l.element.id, class: "w-100" }, [ye(Qe, { id: l.element.id, code: n(x) }, null, 8, ["id", "code"])], 8, pt)) : k ? (c(), g("div", mt, [ye(ct, { thumbnail: te.value, fallback: ee.value, url: F.value, properties: ne.value, "file-id": s.value, "video-id": l.element.id, "check-step": B.value, leadVideoOptions: U.value, elementVersion: n(J) }, null, 8, ["thumbnail", "fallback", "url", "properties", "file-id", "video-id", "check-step", "leadVideoOptions", "elementVersion"])])) : n(J) < 2 ? (c(), g("figure", { key: 2, class: Z(["video-container", [n(N), Y ? "youtube" : "", "figure"]]) }, [T.value ? O("", !0) : (c(), g("span", { key: 0, id: l.element.id, onClick: W, class: "w-100" }, [oe("div", { "data-bg-src": n(q), style: je({ backgroundSize: "cover", paddingBottom: `${n(se)}%` }), onClick: W, class: "w-100" }, null, 12, gt)], 8, ft)), T.value ? (c(), g("div", { key: 1, id: l.element.id, class: "w-100" }, [oe("div", { class: "iframe-container", style: je({ paddingBottom: `${n(se)}%` }) }, [h.value ? (c(), g("iframe", { src: h.value, allow: "autoplay", title: "player", allowfullscreen: "", key: n(P), loading: "lazy" }, null, 8, yt)) : (c(), g("p", It))], 4)], 8, ht)) : O("", !0)], 2)) : (c(), g("figure", { key: 3, class: Z(["video-container", [n(N), Y ? "youtube" : "", "figure"]]) }, [T.value ? O("", !0) : (c(), g("span", { key: 0, id: l.element.id, onClick: W, class: "w-100 h-100" }, [n(q) ? (c(), he(p, { key: 0, url: n(q), height: "full", width: "full", isThumbnail: !0, onClick: W }, null, 8, ["url"])) : O("", !0)], 8, bt)), T.value ? (c(), g("div", { key: 1, id: l.element.id, class: "w-100 h-100" }, [oe("div", kt, [h.value ? (c(), g("iframe", { src: h.value, allow: "autoplay", title: "player", allowfullscreen: "", key: n(P), loading: "lazy" }, null, 8, wt)) : (c(), g("p", Pt))])], 8, _t)) : O("", !0)], 2)) } } }); const zt = Ne(Tt, [["__scopeId", "data-v-aecf1c73"]]); export { zt as default };
