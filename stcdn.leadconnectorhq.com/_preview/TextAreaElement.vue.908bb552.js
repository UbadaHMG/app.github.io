import{d as x,c as u,a as i,b as a,f as d,i as r,Q as f,t as s,e as b,w as V,R as k,h as q,p as E,n as L}from"./entry.0e8f1b40.js";import{o as O}from"./index.35670e06.js";import{S as T}from"./ShortLabel.dcf5c539.js";const B=["innerHTML"],F={key:1,class:"label-alignment"},S={key:0},C={class:"flex-col"},U=["placeholder","name","data-q","data-required"],j={key:2,id:"error-container",class:"error"},A=x({__name:"TextAreaElement",props:{kind:{type:String},item:{type:Object},formLabelVisible:{type:Boolean},formFieldsValue:{type:Object},errors:{type:Object,default:()=>({})}},emits:["addOrUpdateError"],setup(e,{expose:y,emit:h}){const t=e,o=u(()=>t.kind=="survey"),m=u(()=>t.errors[t.item.tag]),v=()=>{if(o.value)return;const l=t.formFieldsValue[t.item.tag];t.item.required&&O(l)?c(t.item.tag,`${t.item.label} is required`):c(t.item.tag,null)},c=(l,n)=>{h("addOrUpdateError",{tag:l,error:n})};return y({validate:v,item:t.item}),(l,n)=>(i(),a("div",{class:L(["form-builder--item field-container",{"d-none":e.item.hidden,"form-builder--item-input":d(o)}])},[d(o)&&e.item.description!==void 0?(i(),a("label",{key:0,innerHTML:e.item.description,class:"item-description"},null,8,B)):r("",!0),e.formLabelVisible?(i(),a("label",F,[f(s(e.item.label)+" ",1),e.item.required?(i(),a("span",S,"*")):r("",!0)])):r("",!0),b("div",C,[V(b("textarea",{"onUpdate:modelValue":n[0]||(n[0]=g=>e.formFieldsValue[e.item.tag]=g),placeholder:!e.formLabelVisible&&e.item.required?e.item.placeholder+"*":e.item.placeholder,name:e.item.tag,class:"form-control","data-q":e.item.hiddenFieldQueryKey,"data-required":e.item.required},null,8,U),[[k,e.formFieldsValue[e.item.tag]]]),e.item.shortLabel?(i(),q(T,{key:0},{default:E(()=>[f(s(e.item.shortLabel),1)]),_:1})):r("",!0)]),d(m)?(i(),a("div",j,s(d(m)),1)):r("",!0)],2))}});export{A as _};
