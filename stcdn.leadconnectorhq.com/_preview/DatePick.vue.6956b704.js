import{d as Fe,r as w,c as M,J as q,o as Ve,g as Ne,a as l,b as r,f as s,i as h,l as Te,p as Ae,W as Ye,n as k,x as We,e as i,t as y,Q as ie,w as ue,a8 as de,F as N,k as T,z as Oe}from"./entry.0e8f1b40.js";const He=["readonly","value","placeholder","data-q","data-required"],je={class:"vdpInnerWrap"},$e={class:"vdpHeader"},qe={key:0},ze=["title","disabled"],Ue={width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_e=["stroke"],Je=["fill"],Ke=["title","disabled"],Qe={width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ze=["stroke"],Ge=["fill"],Xe=["title","disabled"],et=["title","disabled"],tt={class:"vdpPeriodControls"},nt={class:"vdpPeriodControl"},ot={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"var(--appointment_widgets-primary-color)"},at=i("path",{d:"M7 15L12 20L17 15M7 9L12 4L17 9",stroke:"#000000",fill:"#000000","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),st=[at],lt=["value"],rt={class:"vdpPeriodControl"},it={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"var(--appointment_widgets-primary-color)"},ut=i("path",{d:"M7 15L12 20L17 15M7 9L12 4L17 9",stroke:"#000000",fill:"#000000","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),dt=[ut],ct=["value"],pt={class:"vdpTable"},vt={class:"vdpHeadCellContent text-capitalize"},ht=["data-id"],ft=["onClick"],mt={key:0,class:"vdpTimeControls"},yt={class:"vdpTimeCaption"},gt={class:"vdpTimeUnit"},wt=i("br",null,null,-1),kt=["value"],bt={key:0,class:"vdpTimeSeparator"},Dt={key:1,class:"vdpTimeUnit"},Ct=i("br",null,null,-1),Mt=["value"],Pt={key:2,class:"vdpTimeSeparator"},xt={key:3,class:"vdpTimeUnit"},St=i("br",null,null,-1),Et=["value"],Rt=Fe({__name:"DatePick",props:{modelValue:{type:String,default:""},format:{type:String,default:"YYYY-MM-DD"},displayFormat:{type:String},editable:{type:Boolean,default:!0},hasInputElement:{type:Boolean,default:!0},inputAttributes:{type:Object},selectableYearRange:{type:Number,default:40},parseDate:{type:Function},formatDate:{type:Function},pickTime:{type:Boolean,default:!1},pickMinutes:{type:Boolean,default:!0},pickSeconds:{type:Boolean,default:!1},isDateDisabled:{type:Function,default:()=>!1},nextMonthCaption:{type:String,default:"Next month"},prevMonthCaption:{type:String,default:"Previous month"},setTimeCaption:{type:String,default:"Set time:"},mobileBreakpointWidth:{type:Number,default:500},disablePeriodControl:{type:Boolean,default:!1},joinNextPreviousArrow:{type:Boolean,default:!1},calendarRange:{type:Object,default:()=>({from:"",to:""})},weekdays:{type:Array,default:()=>["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},months:{type:Array,default:()=>["January","February","March","April","May","June","July","August","September","October","November","December"]},startDayOfWeek:{type:[String,Number],default:"1"},startWeekOnSunday:{type:Boolean,default:!1},placeholder:{type:String,default:""},allowFutureDate:{type:Boolean,default:!0},dataQ:{type:String,required:!1},dataRequired:{type:Boolean,required:!1},writable:{type:Boolean,default:!1},product:{type:String},skipArrow:{type:Boolean,default:!1}},emits:["disableNextMonth","changedMonth","changedYear","update:modelValue"],setup(a,{expose:ce,emit:C}){const o=a,J=/,|\.|-| |:|\/|\\/,K=/D+/,Q=/M+/,Z=/Y+/,G=/h+/i,X=/m+/,ee=/s+/,pe=e=>{o.writable||e.preventDefault()},m=(e,t)=>typeof e<"u"?e.toString().length>t?e:new Array(t-e.toString().length+1).join("0")+e:void 0,ve=(e,t)=>{const n=[];for(;e.length;)n.push(e.splice(0,t));return n},te=(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear(),he=(e,t)=>{let n,d,u,D,x,$;e instanceof Array&&(e==null?void 0:e.length)>0&&(e=typeof e[0]===String?e[0]:"");const c=e.split(J),f=t.split(J),Re=f.length;for(let v=0;v<Re;v++)f[v].match(K)?n=parseInt(c[v],10):f[v].match(Q)?d=parseInt(c[v],10):f[v].match(Z)?u=parseInt(c[v],10):f[v].match(G)?D=parseInt(c[v],10):f[v].match(X)?x=parseInt(c[v],10):f[v].match(ee)&&($=parseInt(c[v],10));const Ie=new Date([m(u,4),m(d,2),m(n,2)].join("-"));if(!isNaN(Ie)){const v=new Date(u,d-1,n);return[[u,"setFullYear"],[D,"setHours"],[x,"setMinutes"],[$,"setSeconds"]].forEach(([re,Be])=>{typeof re<"u"&&v[Be](re)}),v}},A=(e,t)=>e?o.parseDate?o.parseDate(e,t):he(e,t):void 0,Y=(e,t)=>{const n=A(e,t)||new Date;return{month:n.getMonth(),year:n.getFullYear()}},W=e=>{if(!e)return!1;const{year:t,month:n}=Y(e,o.format);return`${p.value.year}-${p.value.month}`==`${t}-${n}`},fe=(e,t)=>t.replace(Z,n=>e.getFullYear()).replace(Q,n=>m(e.getMonth()+1,n.length)).replace(K,n=>m(e.getDate(),n.length)).replace(G,n=>m(e.getHours(),n.length)).replace(X,n=>m(e.getMinutes(),n.length)).replace(ee,n=>m(e.getSeconds(),n.length)),R=(e=1)=>{const t=new Date(p.value.year,p.value.month),n=new Date(t.getFullYear(),t.getMonth()+e);p.value={month:n.getMonth(),year:n.getFullYear()}},me=e=>{const t=A(e,o.displayFormat||o.format);H.value=e,C("update:modelValue",t?O(t,o.format):e)},ne=()=>{F.value||(F.value=!0,p.value=Y(o.modelValue,o.format),ge(),ke()),B.value=void 0},I=()=>{F.value&&(F.value=!1,B.value=void 0,oe(),se())},ye=e=>{o.hasInputElement&&e.target===j.value&&I()},ge=()=>{E.value||(E.value=t=>we(t),["click","keyup","focusin"].forEach(t=>{document.addEventListener(t,E.value)}))},we=e=>{if(!V.value){I();return}e.keyCode?e.keyCode===27&&I():e.target!==V.value&&!V.value.contains(e.target)&&I()},oe=()=>{E.value&&(["click","keyup","focusin"].forEach(e=>document.removeEventListener(e,E.value)),E.value=null)},ke=()=>{S.value||(S.value=()=>ae(),document.addEventListener("resize",S.value)),ae()},ae=()=>{const e=V.value.getBoundingClientRect();let t="vdpPositionTop",n="vdpPositionLeft";const d=()=>{const u=j.value.getBoundingClientRect(),D=u.height,x=u.width;window.innerWidth>o.mobileBreakpointWidth&&(e.top+e.height+D>window.innerHeight&&e.top-D>0&&(t="vdpPositionBottom"),e.left+x>window.innerWidth&&(n="vdpPositionRight"),U.value=["vdpPositionReady",t,n].join(" "))};j.value?d():We(d)},se=()=>{S.value&&(U.value=void 0,document.removeEventListener("resize",S.value),S.value=null)},be=()=>{C("update:modelValue","")},De=e=>{if(!e.disabled){const t=new Date(e.date);g.value&&(t.setHours(g.value.hours),t.setMinutes(g.value.minutes),t.setSeconds(g.value.seconds)),C("update:modelValue",O(t,o.format)),o.hasInputElement&&!o.pickTime&&I()}},z=(e,t)=>{const n=L.value,d={setHours:23,setMinutes:59,setSeconds:59};let u=parseInt(t.target.value,10)||0;u>d[e]?u=d[e]:u<0&&(u=0),t.target.value=m(u,e==="setHours"?1:2),n[e](u),C("update:modelValue",O(n,o.format))},O=(e,t)=>e?o.formatDate?o.formatDate(e,t):fe(e,t):"",le=e=>o.displayFormat&&O(A(e,o.format),o.displayFormat)||e,Ce=le(o.modelValue),Me=Y(o.modelValue,o.format),H=w(Ce),p=w(Me),B=w(),U=w(),F=w(!o.hasInputElement),b=w(!1),P=w(!1),S=w(),E=w(),j=w(),V=w(),L=M(()=>{const e=o.modelValue,t=o.format;return e?A(e,t):void 0}),Pe=M(()=>!o.editable||o.inputAttributes&&o.inputAttributes.readonly),xe=M(()=>(L.value,o.modelValue?!!L.value:!0)),Se=M(()=>{const{year:e,month:t}=p.value,n=[],d=new Date(e,t,1),u=new Date,D=o.startDayOfWeek==0?1:o.startDayOfWeek==1?0:2,x=d.getDay()||7;if(x>1-D)for(let c=x-(2-D);c>=0;c--){const f=new Date(d);f.setDate(-c),n.push({outOfRange:!0,date:f})}for(;d.getMonth()===t;)n.push({date:new Date(d)}),d.setDate(d.getDate()+1);const $=7-n.length%7;for(let c=1;c<=$;c++){const f=new Date(d);f.setDate(c),n.push({outOfRange:!0,date:f})}return n.forEach(c=>{c.disabled=o.isDateDisabled(c.date),c.today=te(c.date,u),c.dateKey=[c.date.getFullYear(),c.date.getMonth()+1,c.date.getDate()].join("-"),c.selected=L.value?te(c.date,L.value):!1}),ve(n,7)}),Ee=M(()=>{const e=[];let t=p.value.year,n=t-o.selectableYearRange,d=t+o.selectableYearRange;o.allowFutureDate||(t=new Date().getFullYear(),n-=50,d=t);for(let u=n;u<=d;u++)e.push(u);return e}),g=M(()=>{const e=L.value;return e?{hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),hoursPadded:m(e.getHours(),1),minutesPadded:m(e.getMinutes(),2),secondsPadded:m(e.getSeconds(),2)}:void 0}),_=M(()=>B.value?`vdp${B.value}Direction`:void 0),Le=M(()=>{if(o.startDayOfWeek==0){const e=o.weekdays.slice();return e.unshift(e.pop()),e}else if(o.startDayOfWeek==6){const e=o.weekdays.slice();return e.unshift(e.pop()),e.unshift(e.pop()),e}else return o.weekdays});return q(()=>o.modelValue,e=>{xe.value&&(H.value=le(e),p.value=Y(e,o.format))}),q(p,(e,t)=>{const n=new Date(e.year,e.month).getTime(),d=new Date(t.year,t.month).getTime();B.value=n!==d?n>d?"Next":"Prev":void 0,P.value=W(o.calendarRange.from),b.value=W(o.calendarRange.to),C("disableNextMonth",b.value)}),q(()=>p.value.month,()=>{C("changedMonth",p.value)}),q(()=>p.value.year,()=>{C("changedYear",p.value)}),Ve(()=>{P.value=W(o.calendarRange.from),b.value=W(o.calendarRange.to),C("disableNextMonth",b.value)}),Ne(()=>{oe(),se()}),ce({incrementMonth:R}),(e,t)=>(l(),r("div",{ref:n=>V.value=n,class:k([{vdpWithInput:a.hasInputElement},"vdpComponent"])},[a.hasInputElement?(l(),r("input",{key:0,onKeypress:t[0]||(t[0]=n=>pe(n)),readonly:s(Pe),value:s(H),placeholder:a.placeholder,onInput:t[1]||(t[1]=n=>a.editable&&me(n.target.value)),onFocus:t[2]||(t[2]=n=>a.editable&&ne()),onClick:t[3]||(t[3]=n=>a.editable&&ne()),type:"text","data-q":a.dataQ,"data-required":a.dataRequired},null,40,He)):h("",!0),a.editable&&a.hasInputElement&&s(H)?(l(),r("button",{key:1,onClick:be,class:"vdpClearInput",type:"button"})):h("",!0),Te(Ye,{name:"vdp-toggle-calendar"},{default:Ae(()=>[s(F)?(l(),r("div",{key:0,ref:n=>j.value=n,"on:click":ye,class:k([[s(U),{vdpFloating:a.hasInputElement}],"vdpOuterWrap"])},[i("div",je,[i("header",$e,[a.joinNextPreviousArrow?(l(),r("div",qe,[i("button",{title:a.prevMonthCaption,onClick:t[4]||(t[4]=n=>R(-1)),disabled:s(P),class:"arrowPrevious"},[(l(),r("svg",Ue,[i("rect",{x:"0.5",y:"0.5",width:"35",height:"35",rx:"5.5",stroke:s(P)?"var(--appointment_widgets-border-color)":"var(--appointment_widgets-primary-color)"},null,8,_e),i("path",{d:"M21.0352 8.58594L11.3281 18.293L21.0352 28L22.2109 26.8243L13.6796 18.293L22.2109 9.76166L21.0352 8.58594Z",fill:s(P)?"var(--appointment_widgets-border-color)":"var(--appointment_widgets-primary-color)"},null,8,Je)]))],8,ze),a.joinNextPreviousArrow?(l(),r("button",{key:0,title:a.nextMonthCaption,onClick:t[5]||(t[5]=n=>R(1)),disabled:s(b),class:"arrowNext"},[(l(),r("svg",Qe,[i("rect",{x:"0.5",y:"0.5",width:"35",height:"35",rx:"5.5",stroke:s(b)?"var(--appointment_widgets-border-color)":"var(--appointment_widgets-primary-color)"},null,8,Ze),i("path",{d:"M14.5039 8.58594L24.2109 18.293L14.5039 28L13.3282 26.8243L21.8595 18.293L13.3282 9.76166L14.5039 8.58594Z",fill:s(b)?"var(--appointment_widgets-border-color)":"var(--appointment_widgets-primary-color)"},null,8,Ge)]))],8,Ke)):h("",!0)])):h("",!0),!a.joinNextPreviousArrow&&!a.skipArrow?(l(),r("button",{key:1,title:a.prevMonthCaption,onClick:t[6]||(t[6]=n=>R(-1)),disabled:s(P),class:k([{vdpArrowPrevDisable:s(P)},"vdpArrow vdpArrowPrev"]),type:"button"},y(a.prevMonthCaption),11,Xe)):h("",!0),!a.joinNextPreviousArrow&&!a.skipArrow?(l(),r("button",{key:2,title:a.nextMonthCaption,onClick:t[7]||(t[7]=n=>R(1)),disabled:s(b),class:k([{vdpArrowNextDisable:s(b)},"vdpArrow vdpArrowNext"]),type:"button"},y(a.nextMonthCaption),11,et)):h("",!0),i("div",tt,[i("div",nt,[(l(),r("button",{class:k(["text-capitalize",[s(_),a.product==="formsSurvey"?"form-date-picker":""]]),key:s(p).month,type:"button"},[ie(y(a.months[s(p).month])+" ",1),a.product==="formsSurvey"?(l(),r("svg",ot,st)):h("",!0)],2)),ue(i("select",{"onUpdate:modelValue":t[8]||(t[8]=n=>s(p).month=n),class:k({vdpPeriodControlDisable:a.disablePeriodControl})},[(l(!0),r(N,null,T(a.months,(n,d)=>(l(),r("option",{value:d,key:n},y(n),9,lt))),128))],2),[[de,s(p).month]])]),i("div",rt,[(l(),r("button",{class:k([s(_),a.product==="formsSurvey"?"form-date-picker":""]),key:s(p).year,type:"button"},[ie(y(s(p).year)+" ",1),a.product==="formsSurvey"?(l(),r("svg",it,dt)):h("",!0)],2)),ue(i("select",{"onUpdate:modelValue":t[9]||(t[9]=n=>s(p).year=n),class:k({vdpPeriodControlDisable:a.disablePeriodControl})},[(l(!0),r(N,null,T(s(Ee),n=>(l(),r("option",{value:n,key:n},y(n),9,ct))),128))],2),[[de,s(p).year]])])])]),i("table",pt,[i("thead",null,[i("tr",null,[(l(!0),r(N,null,T(s(Le),n=>(l(),r("th",{key:n,class:"vdpHeadCell"},[i("span",vt,y(n),1)]))),128))])]),(l(),r("tbody",{key:s(p).year+"-"+s(p).month,class:k(s(_))},[(l(!0),r(N,null,T(s(Se),(n,d)=>(l(),r("tr",{key:d,class:"vdpRow"},[(l(!0),r(N,null,T(n,u=>(l(),r("td",{class:k([{selectable:!u.disabled,selected:u.selected,disabled:u.disabled,today:u.today,outOfRange:u.outOfRange},"vdpCell"]),"data-id":u.dateKey,key:u.dateKey},[i("div",{onClick:D=>De(u),class:"vdpCellContent"},y(u.date.getDate()),9,ft)],10,ht))),128))]))),128))],2))]),a.pickTime&&s(g)?(l(),r("div",mt,[i("span",yt,y(a.setTimeCaption),1),i("div",gt,[i("pre",null,[i("span",null,y(s(g).hoursPadded),1),wt]),i("input",{onInput:t[10]||(t[10]=Oe(n=>z("setHours",n),["prevent"])),value:s(g).hoursPadded,type:"number",pattern:"\\d*",class:"vdpHoursInput"},null,40,kt)]),a.pickMinutes?(l(),r("span",bt,":")):h("",!0),a.pickMinutes?(l(),r("div",Dt,[i("pre",null,[i("span",null,y(s(g).minutesPadded),1),Ct]),a.pickMinutes?(l(),r("input",{key:0,onInput:t[11]||(t[11]=n=>z("setMinutes",n)),value:s(g).minutesPadded,type:"number",pattern:"\\d*",class:"vdpMinutesInput"},null,40,Mt)):h("",!0)])):h("",!0),a.pickSeconds?(l(),r("span",Pt,":")):h("",!0),a.pickSeconds?(l(),r("div",xt,[i("pre",null,[i("span",null,y(s(g).secondsPadded),1),St]),a.pickSeconds?(l(),r("input",{key:0,onInput:t[12]||(t[12]=n=>z("setSeconds",n)),value:s(g).secondsPadded,type:"number",pattern:"\\d*",class:"vdpSecondsInput"},null,40,Et)):h("",!0)])):h("",!0)])):h("",!0)])],34)):h("",!0)]),_:1})],2))}});export{Rt as _};
