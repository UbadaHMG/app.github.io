import{_,j as f,P as b,M as C,a4 as w}from"./constants.c1fa6fa6.js";import{t as x,u as T}from"./utc.fdc7e349.js";import{i as O}from"./isObject.32699ff3.js";import{a as D}from"./_arrayEach.0e9334a0.js";import{k,i as y,a as F}from"./keys.8ca4e77f.js";function v(t){return function(e,r,o){for(var s=-1,a=Object(e),n=o(e),l=n.length;l--;){var u=n[t?l:++s];if(r(a[u],u,a)===!1)break}return e}}var S=v();const A=S;function P(t,e){return t&&A(t,e,k)}function L(t,e){return function(r,o){if(r==null)return r;if(!y(r))return t(r,o);for(var s=r.length,a=e?s:-1,n=Object(r);(e?a--:++a<s)&&o(n[a],a,n)!==!1;);return r}}var R=L(P);const N=R;function M(t){return typeof t=="function"?t:F}function U(t,e){var r=_(t)?D:N;return r(t,M(e))}f.extend(x);f.extend(T);var $=(t=>(t[t.CALENDAR=1]="CALENDAR",t[t.FORM=2]="FORM",t[t.CONFIRMATION_PAGE=3]="CONFIRMATION_PAGE",t[t.PAYMENT=4]="PAYMENT",t))($||{}),j=(t=>(t.PENDING="pending",t.COMPLETED="completed",t))(j||{});const p={DARK_OLD:"dark_old",LIGHT_OLD:"light_old",DARK:"dark",LIGHT:"light",DEFAULT:"default",DEFAULT_OLD:"default_old"},q=(t,e)=>{const r=["id","name","description","image"],o={};for(let s=0;s<e.length;s++){const a=e[s],n=r[s];o[n]=t[a]||""}return o},g=t=>{if(O(t)){if(_(t))return t.map(e=>g(e));{const e={};return U(t,(r,o)=>{o==="paymentProvider"?e[o]=r:e[w(o)]=g(r)}),e}}return t},V=t=>{var e,r,o;try{if(t.trim()){const s=t.trim().split(" "),a=(e=s[0][0])==null?void 0:e.toUpperCase(),n=(o=(r=s[1])==null?void 0:r[0])==null?void 0:o.toUpperCase();return n!==void 0?a+n:a}return"-"}catch{return"-"}},Q=t=>{let e=0;if(t.length==0)return e;for(let o=0;o<t.length;o++)e=t.charCodeAt(o)+((e<<5)-e),e=e&e;return"hsl("+Math.abs(e)%360+",35%, 60%)"},G=t=>{const e=Math.floor(t/60),r=t%60,o=e>1?`${e} hrs`:e===1?`${e} hr`:"",s=r>1?`${r} mins`:r===1?`${r} min`:"";return[o,s].filter(Boolean).join(" ")};function I(t){try{const e=["backgroundColor","primaryColor","buttonText","showCalendarTitle","showCalendarDescription","showCalendarDetails","default"];if(Object.keys(t).length===0||!e.some(a=>t[a]!==void 0))return null;const r=a=>t[a],o=a=>t[a]!==void 0?t[a]==="true":!0,s={};for(const a of e)s[a]=a==="showCalendarTitle"||a==="showCalendarDescription"||a==="showCalendarDetails"||a==="default"?o(a):r(a);return s}catch(e){return console.error("Error parsing query parameters:",e),null}}function Y(t){t=t.replace(/^#/,"");const e=parseInt(t,16),r=e>>16&255,o=e>>8&255,s=e&255;return .2126*r+.7152*o+.0722*s<180}const X=t=>{switch(t){case p.DARK_OLD:return{borderColor:"#ffffff36",lightBackgroundColor:"#00000036",dropdownColor:"#00000036",labelTextColor:"#e3e3e399",grayTextColor:"#e3e3e399",blackTextColor:"#ffffff",scrollColor:"#e3e3e399"};case p.LIGHT_OLD:return{borderColor:"#00000036",lightBackgroundColor:"#ffffff36",dropdownColor:"#ffffff36",labelTextColor:"#00000066",grayTextColor:"#000000b3",blackTextColor:"#333333",scrollColor:"#00000066"};case p.DARK:return{borderColor:"#fcfcfd33",textColor:"#fcfcfd",lightTextColor:"#fcfcfd99"};case p.LIGHT:return{borderColor:"#1018281a",textColor:"#101828",lightTextColor:"#10182899"};case p.DEFAULT:return{borderColor:"#1018281a",textColor:"#101828",lightTextColor:"#10182899",primaryColor:"#155eef",lightPrimaryColor:"#155eef12",blurColor:"#ffffffb3",backgroundColor:"#ffffff"};default:return{borderColor:"#e3e3e3",lightBackgroundColor:"#ffffff36",dropdownColor:"#f3f8fb",labelTextColor:"#b1b7be",grayTextColor:"#9d9d9d",blackTextColor:"#525252",primaryColor:"#178af6",backgroundColor:"#ffffff",scrollColor:"#9d9d9d"}}},Z=(t,e,r,o)=>{let s={};if(r?s={"--appointment_widgets-primary-color":"primaryColor","--appointment_widgets-background-color":"backgroundColor","--appointment_widgets-border-color":"borderColor","--appointment_widgets-light-primary-color":"lightPrimaryColor","--appointment_widgets-text-color":"textColor","--appointment_widgets-light-text-color":"lightTextColor","--appointment_widgets-blur-color":"blurColor"}:s={"--appointment_widgets-primary-color":"primaryColor","--appointment_widgets-background-color":"backgroundColor","--appointment_widgets-border-color":"borderColor","--appointment_widgets-light-background-color":"lightBackgroundColor","--appointment_widgets-dropdown-color":"dropdownColor","--appointment_widgets-label-text-color":"labelTextColor","--appointment_widgets-gray-text-color":"grayTextColor","--appointment_widgets-black-text-color":"blackTextColor","--appointment_widgets-scroll-color":"scrollColor"},o)Object.entries(s).forEach(([a,n])=>{var l;(l=e==null?void 0:e.style)==null||l.setProperty(a,t==null?void 0:t[n])});else return Object.entries(s).reduce((a,[n,l])=>(a[n]=t==null?void 0:t[l],a),{})},B=t=>{const e=(t==null?void 0:t.depositType)||(t==null?void 0:t.deposit_type);let r=0;if(e==="percentage"){let o=(t==null?void 0:t.deposit)/100*(t==null?void 0:t.amount);r=Math.round(o*100)/100}else r=Math.round((t==null?void 0:t.deposit)*100)/100;return Number.isInteger(r)?r:r.toFixed(2)},W=(t,e,r)=>{const o=r!=null&&r.hasOwnProperty("deposit")?Number(B(r)):r==null?void 0:r.amount;return t&&r.recurring_appointments_payment_type==="allAppointments"?o*e:o},tt=(t,e,r)=>{let o=Math.round((r==null?void 0:r.amount)*100)/100;return o=Number.isInteger(o)?o:Number(o.toFixed(2)),t&&r.recurring_appointments_payment_type==="allAppointments"?o*e:o},et=t=>{switch(t){case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";default:return null}},rt=(t,e)=>{try{const r=f(t.start_time).tz(t.selected_timezone),o=f().tz(t.selected_timezone);if(e&&(e==null?void 0:e.expiry_time)!=null&&(e!=null&&e.expiry_time_unit)){const s=e.expiry_time,a=e.expiry_time_unit==="mins"?"minute":e.expiry_time_unit,n=r.subtract(s,a);return o.isAfter(n)||o.isSame(n)}return!1}catch{return!1}},ot=async(t,e,r,o,s)=>{let a={...r},n={...o},l={...s};const u=sessionStorage.getItem(`user_data_${t}`);if(!u)return;const c=JSON.parse(u),m=(i,d)=>{a[i]=d},h=e.map(i=>{if(e.includes(i))switch(i){case"phone":let d=c[i];d&&d[0]===" "&&(d="+"+d.trim()),n.phone=d;break;case"country":c[i]&&(l=C[c[i]]);break;case"address":!c[i]&&c.address1&&m(i,c.address1);break;default:m(i,c[i]);break}});return await Promise.all(h),{formFieldsValue:a,formattedCountry:l,phoneCountryIncluded:n}},st=(t,e)=>{const r=Object.assign({},e);Object.keys(r).forEach(async s=>{var a;(r[s]instanceof File||(a=r[s])!=null&&a.files)&&delete r[s]}),sessionStorage.setItem(`user_data_${t}`,JSON.stringify(r))},at=t=>{sessionStorage.removeItem(`user_data_${t}`)},nt=t=>{let e="";{const r=document==null?void 0:document.createElement("div"),o=["div","p","h1","h2","h3","h4","h5","h6","ul","ol","li","blockquote","pre","table","tr","td","th","br"],s=new RegExp(`(</?(${o.join("|")})[^>]*>)`,"gi");t=t==null?void 0:t.replace(s," $1 "),r&&(r.innerHTML=t,e=r.textContent||r.innerText||""),e=e.replace(/\s+/g," ").trim()}return e},it=t=>{const e={en:"en",da:"da",nl:"nl",fi:"fi",fr_FR:"fr",fr_CA:"fr-ca",de:"de",it:"it",no:"en",pt_PT:"pt",pt_BR:"pt-br",es:"es",sv:"sv"},o={fr_FR:"fr",fr_CA:"fr-ca",pt_PT:"pt",pt_BR:"pt-br"}[t]?t:t.includes("_")?t.split("_")[0]:t;return e[o]??"en"},lt=(t,e)=>{const r=new Date().getTime()+6e5,o={...e,expireAfter:r},s=localStorage.getItem("lc_appt_data"),a=s?JSON.parse(s):{};a[t]=o,localStorage.setItem("lc_appt_data",JSON.stringify(a))},ct=t=>{const e=localStorage.getItem("lc_appt_data"),r=e?JSON.parse(e):{},o=r?r[t]:null;return o||{}},dt=t=>{const e=localStorage.getItem("lc_appt_data"),r=e?JSON.parse(e):{};delete r[t],localStorage.setItem("lc_appt_data",JSON.stringify(r))},ut=()=>{const t=localStorage.getItem("lc_appt_data"),e=t?JSON.parse(t):{},r=new Date().getTime();let o=!1;for(const s in e)e[s].expireAfter<=r&&(delete e[s],o=!0);o&&localStorage.setItem("lc_appt_data",JSON.stringify(e))},pt=t=>{const e=new URL(t),r=new URLSearchParams(e.search),o={};for(const[s,a]of r.entries())o[s]=a;return o},ft=t=>{const e=t?new URL(t):new URL(window.parent.location.href),r=e.searchParams;["payment_intent","payment_intent_client_secret","redirect_status","sourceId","transactionId","altId","altType","setup_intent","setup_intent_client_secret","payment_session_id","isIframe","calendarElementClass"].forEach(a=>r.delete(a));const s=`${e.origin}${e.pathname}`+(r.toString()?`?${r.toString()}`:"");t?window.parent.postMessage(["modify-parent-url",s],"*"):window.parent.history.replaceState(null,"",s)},mt=t=>["payment_intent","payment_intent_client_secret","redirect_status","setup_intent","setup_intent_client_secret"].some(e=>t[e]);function gt(t){const e=b(),{referrer:r,source:o}=e;if(t&&r==="https://www.google.co.in/"&&o==="google organic"){const s=window.location.hostname;return document.cookie="_rwg_token="+t+";max-age=2592000;domain="+s+";path=/",t}else{const s=document.cookie.split("; ").find(a=>a.startsWith("_rwg_token="));return typeof s<"u"?s.split("=")[1]:t}}export{it as A,st as B,$ as C,ot as D,P as E,j as P,mt as a,N as b,g as c,tt as d,W as e,G as f,B as g,at as h,rt as i,ut as j,V as k,et as l,dt as m,ft as n,lt as o,Q as p,ct as q,gt as r,Z as s,pt as t,X as u,p as v,nt as w,I as x,Y as y,q as z};
